// @flow
import * as React from "react";
import { getHeaderMenu } from "@/api";
import { HeaderMenu } from "@/components/header/HeaderMenu";
import AuthButton from "@/components/header/AuthButton";
import Link from "next/link";
import { MainMenu } from "@/components/header/MainMenu";
import SearchInput from "@/components/ui/SearchInput";
import { HeaderBottom } from "@/components/header/HeaderBottom";
import MobileMenu from "@/components/header/MobileMenu";

export default async function Header() {
  const { menu, loading } = await getHeaderMenu("17");
  const mainMenu = await getHeaderMenu("656");
  return (
    <header className={`sticky top-0 z-10`}>
      <div className={`text-sm text-white bg-gray-900`}>
        <div className="container mx-auto flex justify-between px-3 py-3">
          <p>
            Available 24/7 at
            <a href={"tel:4055550128"} className={"font-black"}>
              {" "}
              (405) 555-0128
            </a>
          </p>
          <HeaderMenu
            menuItems={menu}
            loading={loading}
            className={`hidden lg:flex`}
          />
          <div className={`flex items-center`}>
            <AuthButton />
            <MobileMenu
              loadingHeader={loading}
              menuItemsHeader={menu}
              className={`lg:hidden`}
              mainMenuItems={mainMenu.menu}
              mainMenuLoading={mainMenu.loading}
            />
          </div>
        </div>
      </div>

      <div className=" bg-white  text-base">
        <div
          className={`container mx-auto py-5 px-3 flex justify-between items-center`}
        >
          <div className={`flex items-center`}>
            <Link href={"/"} className={`2xl:mr-10 xl:mr-4 mr-3`}>
              <svg
                width="130"
                height="22"
                viewBox="0 0 130 22"
                fill="none"
                xmlns="http://www.w3.org/2000/svg"
              >
                <g clipPath="url(#clip0_34055_4710)">
                  <path
                    d="M0 11.0998C0 4.9998 3.3 1.2998 8.7 1.2998C12.8 1.2998 16.1 3.7998 16.7 7.4998C16.8 7.8998 16.5 8.1998 16.1 8.1998H13.5C13.2 8.1998 13 7.9998 12.9 7.6998C12.4 5.7998 10.8 4.5998 8.7 4.5998C5.8 4.5998 4 7.0998 4 11.0998C4 15.0998 5.8 17.5998 8.8 17.5998C10.9 17.5998 12.4 16.4998 13 14.6998C13.1 14.3998 13.3 14.1998 13.6 14.1998H16.2C16.6 14.1998 16.9 14.5998 16.8 14.8998C16.2 18.4998 13 20.8998 8.8 20.8998C3.3 20.8998 0 17.0998 0 11.0998Z"
                    fill="#1E212C"
                  />
                  <path
                    d="M24.2997 20.4001H21.3997C21.0997 20.4001 20.8997 20.2001 20.8997 19.9001V2.60006C20.8997 2.20006 21.2997 1.80006 21.6997 1.80006H28.6997C32.7997 1.80006 35.2997 4.10006 35.2997 7.70006C35.2997 9.80006 34.2997 11.7001 32.5997 12.7001C32.1997 12.9001 32.0997 13.4001 32.2997 13.7001L35.3997 19.6001C35.5997 19.9001 35.2997 20.3001 34.9997 20.3001H31.6997C31.4997 20.3001 31.2997 20.2001 31.1997 20.0001L28.2997 14.0001C28.1997 13.7001 27.8997 13.6001 27.5997 13.6001H25.2997C24.9997 13.6001 24.7997 13.8001 24.7997 14.1001V20.0001C24.8997 20.2001 24.5997 20.4001 24.2997 20.4001ZM24.8997 10.2001C24.8997 10.5001 25.0997 10.7001 25.3997 10.7001H28.3997C30.3997 10.7001 31.4997 9.60006 31.4997 7.80006C31.4997 6.00006 30.2997 4.90006 28.3997 4.90006H25.4997C25.1997 4.90006 24.9997 5.10006 24.9997 5.40006V10.2001H24.8997Z"
                    fill="#1E212C"
                  />
                  <path
                    d="M51.4998 20.4001H40.4998C40.0998 20.4001 39.7998 20.1001 39.7998 19.7001V2.50006C39.7998 2.10006 40.0998 1.80006 40.4998 1.80006H51.4998C51.8998 1.80006 52.1998 2.10006 52.1998 2.50006V4.40006C52.1998 4.80006 51.8998 5.10006 51.4998 5.10006H44.1998C43.8998 5.10006 43.6998 5.30006 43.6998 5.60006V9.00006C43.6998 9.30006 43.8998 9.50006 44.1998 9.50006H50.9998C51.3998 9.50006 51.6998 9.80006 51.6998 10.2001V11.9001C51.6998 12.3001 51.3998 12.6001 50.9998 12.6001H44.1998C43.8998 12.6001 43.6998 12.8001 43.6998 13.1001V16.9001C43.6998 17.2001 43.8998 17.4001 44.1998 17.4001H51.4998C51.8998 17.4001 52.1998 17.7001 52.1998 18.1001V20.0001C52.1998 20.1001 51.8998 20.4001 51.4998 20.4001Z"
                    fill="#1E212C"
                  />
                  <path
                    d="M66.9999 15.9001H61.2999C60.9999 15.9001 60.7999 16.1001 60.6999 16.3001L59.5999 20.0001C59.4999 20.3001 59.2999 20.4001 58.9999 20.4001H56.3999C55.9999 20.4001 55.6999 20.0001 55.7999 19.6001L61.7999 2.20006C61.8999 2.00006 62.0999 1.80006 62.3999 1.80006H66.0999C66.3999 1.80006 66.5999 2.00006 66.6999 2.20006L72.6999 19.6001C72.7999 20.0001 72.4999 20.4001 72.0999 20.4001H69.1999C68.8999 20.4001 68.6999 20.2001 68.5999 20.0001L67.4999 16.3001C67.4999 16.1001 67.1999 15.9001 66.9999 15.9001ZM62.0999 13.0001H66.1999C66.3999 13.0001 66.4999 12.8001 66.4999 12.6001L64.2999 5.60006H64.0999L61.8999 12.6001C61.7999 12.8001 61.8999 13.0001 62.0999 13.0001Z"
                    fill="#1E212C"
                  />
                  <path
                    d="M79.0001 19.7005V5.50045C79.0001 5.20045 78.8001 5.00045 78.5001 5.00045H74.1001C73.7001 5.00045 73.3001 4.70045 73.3001 4.20045V2.50045C73.3001 2.10045 73.6001 1.70045 74.1001 1.70045H87.7001C88.1001 1.70045 88.5001 2.00045 88.5001 2.50045V4.20045C88.5001 4.60045 88.2001 5.00045 87.7001 5.00045H83.3001C83.0001 5.00045 82.8001 5.20045 82.8001 5.50045V19.8004C82.8001 20.2004 82.5001 20.5005 82.1001 20.5005H79.6001C79.3001 20.4004 79.0001 20.1005 79.0001 19.7005Z"
                    fill="#1E212C"
                  />
                  <path
                    d="M103.8 20.4001H92.7999C92.3999 20.4001 92.0999 20.1001 92.0999 19.7001V2.50006C92.0999 2.10006 92.3999 1.80006 92.7999 1.80006H103.8C104.2 1.80006 104.5 2.10006 104.5 2.50006V4.40006C104.5 4.80006 104.2 5.10006 103.8 5.10006H96.4999C96.1999 5.10006 95.9999 5.30006 95.9999 5.60006V9.00006C95.9999 9.30006 96.1999 9.50006 96.4999 9.50006H103.3C103.7 9.50006 104 9.80006 104 10.2001V11.9001C104 12.3001 103.7 12.6001 103.3 12.6001H96.4999C96.1999 12.6001 95.9999 12.8001 95.9999 13.1001V16.9001C95.9999 17.2001 96.1999 17.4001 96.4999 17.4001H103.8C104.2 17.4001 104.5 17.7001 104.5 18.1001V20.0001C104.5 20.1001 104.2 20.4001 103.8 20.4001Z"
                    fill="#1E212C"
                  />
                  <path
                    d="M117.701 9.7L111.501 1.6C111.101 1.2 110.601 1 110.101 1C109.601 1 109.101 1.2 108.701 1.6C108.001 2.4 108.001 3.6 108.701 4.4L113.601 11L108.701 17.6C108.001 18.4 108.001 19.6 108.701 20.4C109.101 20.8 109.601 21 110.101 21C110.601 21 111.101 20.8 111.501 20.4L117.701 12.3C118.401 11.7 118.401 10.5 117.701 9.7Z"
                    fill="#17696A"
                  />
                  <path
                    d="M120.344 9.7L126.544 1.6C126.944 1.2 127.444 1 127.944 1C128.444 1 128.944 1.2 129.344 1.6C130.044 2.4 130.044 3.6 129.344 4.4L124.444 11L129.344 17.6C130.044 18.4 130.044 19.6 129.344 20.4C128.944 20.8 128.444 21 127.944 21C127.444 21 126.944 20.8 126.544 20.4L120.344 12.3C119.644 11.7 119.644 10.5 120.344 9.7Z"
                    fill="#17696A"
                  />
                </g>
                <defs>
                  <clipPath id="clip0_34055_4710">
                    <rect width="130" height="22" fill="white" />
                  </clipPath>
                </defs>
              </svg>
            </Link>
            <MainMenu
              loading={mainMenu.loading}
              menuItems={mainMenu.menu}
              className={`hidden lg:block`}
            />
          </div>
          <div className={`flex items-center`}>
            <SearchInput className={"2xl:w-95 xl:w-90 lg:w-64 w-56"} />
            <button className={`flex items-center 2xl:ml-12 xl:ml-6 ml-4`}>
              <svg
                width="20"
                height="20"
                viewBox="0 0 20 20"
                fill="none"
                xmlns="http://www.w3.org/2000/svg"
              >
                <path
                  fillRule="evenodd"
                  clipRule="evenodd"
                  d="M9.99907 16.5894C6.16651 14.4065 4.02897 12.2369 2.99533 10.3545C1.9374 8.42785 2.02971 6.80512 2.61675 5.65342C3.8234 3.28614 7.25473 2.52916 9.34537 5.17331L9.99902 6.00002L10.6527 5.17335C12.7437 2.52909 16.1752 3.2862 17.3819 5.65342C17.9689 6.80511 18.0612 8.42782 17.0032 10.3545C15.9694 12.2369 13.8318 14.4065 9.99907 16.5894ZM9.9991 3.42157C7.05809 0.626898 2.71943 1.78193 1.13186 4.89654C0.260575 6.60588 0.248673 8.81515 1.53441 11.1567C2.80875 13.4775 5.3495 15.9271 9.59594 18.2742L9.99905 18.497L10.4022 18.2742C14.6488 15.9271 17.1896 13.4775 18.4641 11.1567C19.7499 8.81518 19.738 6.6059 18.8667 4.89654C17.2791 1.78187 12.9404 0.62694 9.9991 3.42157Z"
                  fill="#424551"
                />
              </svg>
              <span className={`ml-2`}>2</span>
            </button>
            <button className={`flex items-center 2xl:ml-12 xl:ml-6 ml-4`}>
              <svg
                width="22"
                height="22"
                viewBox="0 0 22 22"
                fill="none"
                xmlns="http://www.w3.org/2000/svg"
              >
                <path
                  fillRule="evenodd"
                  clipRule="evenodd"
                  d="M2.8798 2.75768C2.79028 2.75093 2.66604 2.75033 2.43306 2.75033H0.916667C0.410406 2.75033 0 2.33992 0 1.83366C0 1.3274 0.410406 0.916996 0.916667 0.916996H2.43306C2.4417 0.916996 2.45034 0.916995 2.45898 0.916994C2.65575 0.91697 2.85058 0.916946 3.01755 0.929526C3.20335 0.943526 3.41921 0.976408 3.64252 1.07602C3.9568 1.21621 4.22528 1.44203 4.41724 1.72764C4.55364 1.93058 4.62303 2.13761 4.66865 2.31827C4.70966 2.48061 4.74301 2.67256 4.77671 2.86642C4.77818 2.87494 4.77966 2.88345 4.78115 2.89197L4.99956 4.14787L16.9291 4.50099C17.3965 4.51481 17.8005 4.52676 18.1332 4.5634C18.4849 4.60213 18.8336 4.67496 19.168 4.85314C19.6748 5.12313 20.0844 5.545 20.3393 6.05956C20.5075 6.39915 20.5699 6.7498 20.5982 7.10246C20.625 7.4361 20.625 7.84027 20.625 8.30795V8.37555C20.625 8.81506 20.625 9.19632 20.6004 9.51247C20.5743 9.84775 20.5167 10.1808 20.3631 10.5071C20.1293 11.0037 19.7523 11.419 19.2804 11.6996C18.9704 11.8839 18.6445 11.9733 18.3133 12.0316C18.001 12.0865 17.6216 12.1232 17.1841 12.1656L8.26136 13.029C7.81293 13.0725 7.4244 13.1101 7.10024 13.1158C6.75679 13.1218 6.41246 13.0951 6.06676 12.9682C5.54832 12.7777 5.09924 12.4356 4.778 11.9863C4.5638 11.6867 4.44668 11.3618 4.36134 11.029C4.28079 10.715 4.21392 10.3304 4.13675 9.88658L2.97492 3.20609C2.935 2.97655 2.91312 2.85426 2.89114 2.76721C2.89036 2.76412 2.8896 2.76118 2.88887 2.7584C2.88601 2.75816 2.88298 2.75792 2.8798 2.75768ZM5.32019 5.99149L5.93719 9.53925C6.02181 10.0258 6.07681 10.3382 6.13719 10.5736C6.19478 10.7981 6.24033 10.8794 6.26935 10.92C6.37643 11.0697 6.52612 11.1838 6.69894 11.2473C6.74577 11.2645 6.83624 11.2868 7.06799 11.2827C7.31098 11.2785 7.62676 11.2486 8.11829 11.201L16.9745 10.3439C17.4543 10.2975 17.762 10.2671 17.9956 10.226C18.2181 10.1868 18.3011 10.1489 18.3435 10.1238C18.5008 10.0302 18.6264 9.89181 18.7044 9.72626C18.7254 9.68167 18.7551 9.59536 18.7726 9.37014C18.791 9.13371 18.7917 8.82451 18.7917 8.34246C18.7917 7.8305 18.791 7.50062 18.7708 7.24915C18.7515 7.00853 18.7187 6.91832 18.6964 6.87332C18.6115 6.7018 18.4749 6.56118 18.306 6.47118C18.2617 6.44757 18.1725 6.41214 17.9325 6.38572C17.6818 6.3581 17.3521 6.34765 16.8403 6.3325L5.32019 5.99149Z"
                  fill="#424551"
                />
                <path
                  fillRule="evenodd"
                  clipRule="evenodd"
                  d="M7.79167 16.042C7.28541 16.042 6.875 16.4524 6.875 16.9587C6.875 17.4649 7.28541 17.8753 7.79167 17.8753C8.29793 17.8753 8.70833 17.4649 8.70833 16.9587C8.70833 16.4524 8.29793 16.042 7.79167 16.042ZM5.04167 16.9587C5.04167 15.4399 6.27288 14.2087 7.79167 14.2087C9.31045 14.2087 10.5417 15.4399 10.5417 16.9587C10.5417 18.4774 9.31045 19.7087 7.79167 19.7087C6.27288 19.7087 5.04167 18.4774 5.04167 16.9587Z"
                  fill="#424551"
                />
                <path
                  fillRule="evenodd"
                  clipRule="evenodd"
                  d="M16.5 16.042C15.9937 16.042 15.5833 16.4524 15.5833 16.9587C15.5833 17.4649 15.9937 17.8753 16.5 17.8753C17.0063 17.8753 17.4167 17.4649 17.4167 16.9587C17.4167 16.4524 17.0063 16.042 16.5 16.042ZM13.75 16.9587C13.75 15.4399 14.9812 14.2087 16.5 14.2087C18.0188 14.2087 19.25 15.4399 19.25 16.9587C19.25 18.4774 18.0188 19.7087 16.5 19.7087C14.9812 19.7087 13.75 18.4774 13.75 16.9587Z"
                  fill="#424551"
                />
              </svg>
              <span
                className={`ml-2 flex items-center justify-center h-5 w-6 bg-green-700 text-xs text-white font-black rounded`}
              >
                4
              </span>
            </button>
          </div>
        </div>
      </div>
      <HeaderBottom />
    </header>
  );
}
